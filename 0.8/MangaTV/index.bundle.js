!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Sources=t():e.Sources=t()}(this,function(){return function(){"use strict";var e={};class t{id;constructor(e){this.id=e}registerInterceptor(){Application.registerInterceptor(this.id,Application.Selector(this,"interceptRequest"),Application.Selector(this,"interceptResponse"))}unregisterInterceptor(){Application.unregisterInterceptor(this.id)}}const n={},o={},s=async e=>{if(n[e])return await n[e],void await s(e);n[e]=new Promise(t=>o[e]=()=>{delete n[e],t()})};class r extends t{options;promise;currentRequestsMade=0;lastReset=Date.now();imageRegex=new RegExp(/\.(png|gif|jpeg|jpg|webp)(\?|$)/i);constructor(e,t){super(e),this.options=t}async interceptRequest(e){return this.options.ignoreImages&&this.imageRegex.test(e.url)||(await s(this.id),await this.incrementRequestCount(),t=this.id,o[t]&&o[t]()),e;var t}async interceptResponse(e,t,n){return n}async incrementRequestCount(){if(await this.promise,(Date.now()-this.lastReset)/1e3>this.options.bufferInterval&&(this.currentRequestsMade=0,this.lastReset=Date.now()),this.currentRequestsMade+=1,this.currentRequestsMade>=this.options.numberOfRequests){const e=(Date.now()-this.lastReset)/1e3;if(e<=this.options.bufferInterval){const t=this.options.bufferInterval-e;console.log(`[BasicRateLimiter] rate limit hit, sleeping for ${t}`),this.promise=Application.sleep(t)}}}}function i(e){const t={},n=e.match(/^(?:([a-zA-Z][a-zA-Z\d+\-.]*):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/);if(!n)throw new Error("Invalid URL string provided.");if(void 0!==n[1]&&""!==n[1]&&(t.protocol=n[1]),void 0!==n[2]&&""!==n[2]){const e=n[2];let o="",s="";const r=e.indexOf("@");if(-1!==r){if(o=e.substring(0,r),s=e.substring(r+1),""!==o){const e=o.indexOf(":");-1!==e?(t.username=o.substring(0,e),t.password=o.substring(e+1)):(t.username=o,t.password="")}}else s=e;if(""!==s)if(s.startsWith("[")){const e=s.indexOf("]");if(-1===e)throw new Error("Invalid IPv6 address in URL update.");t.hostname=s.substring(0,e+1);const n=s.substring(e+1);n.startsWith(":")&&(t.port=n.substring(1))}else{const e=s.lastIndexOf(":");-1!==e&&s.indexOf(":")===e?(t.hostname=s.substring(0,e),t.port=s.substring(e+1)):(t.hostname=s,t.port="")}}if(void 0!==n[3]&&""!==n[3]&&(t.path=n[3].startsWith("/")?n[3]:`/${n[3]}`),void 0!==n[4]){const e={},o=n[4].split("&");for(const t of o){if(!t)continue;const[n,o=""]=t.split("=");if(void 0===n)continue;const s=decodeURIComponent(n),r=decodeURIComponent(o);if(s in e){const t=e[s];Array.isArray(t)?t.push(r):e[s]=[t,r]}else e[s]=r}t.queryItems=e}return void 0!==n[5]&&(t.fragment=n[5]),t}Error;class a{protocol;hostname;path;username;password;port;queryItems;fragment;constructor(e){const t=i(e);if(!t.hostname||!t.protocol)throw new Error("URL Hostname and Protocol are required");this.hostname=t.hostname,this.protocol=t.protocol,this.path=t.path??"",this.username=t.username,this.password=t.password,this.port=t.port,this.queryItems=t.queryItems,this.fragment=t.fragment}toString(){let e=`${this.protocol}://`;if(void 0!==this.username&&""!==this.username&&(e+=this.username,void 0!==this.password&&""!==this.password&&(e+=`:${this.password}`),e+="@"),e+=this.hostname,void 0!==this.port&&""!==this.port&&(e+=`:${this.port}`),""!==this.path&&(e+=this.path.startsWith("/")?this.path:`/${this.path}`),void 0!==this.queryItems){const t=Object.keys(this.queryItems),n=[];if(t.length>0)for(const e of t){const t=this.queryItems[e];if(Array.isArray(t))for(const o of t)n.push(`${encodeURIComponent(e)}=${encodeURIComponent(o)}`);else void 0!==t&&n.push(`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)}e+=`?${n.join("&")}`}return void 0!==this.fragment&&(e+=`#${this.fragment}`),e}setProtocol(e){if(""===e)throw new Error("Protocol is required");return this.protocol=e,this}setUsername(e){return this.username=""===e?void 0:e,this}setPassword(e){return this.password=""===e?void 0:e,this}setHostname(e){if(""===e)throw new Error("Hostname is required");return this.hostname=e,this}setPort(e){return this.port=""===e?void 0:e,this}setPath(e){return this.path=e.startsWith("/")?e:`/${e}`,this}addPathComponent(e){return this.path=(this.path??"")+(e.startsWith("/")?e:`/${e}`),this}setQueryItems(e){return this.queryItems=e,this}setQueryItem(e,t){return void 0===this.queryItems&&(this.queryItems={}),this.queryItems[e]=t,this}removeQueryItem(e){return delete this.queryItems?.[e],this}setFragment(e){return this.fragment=e,this}update(e){let t;return t="string"==typeof e?i(e):e,void 0!==t.protocol&&this.setProtocol(t.protocol),void 0!==t.username&&this.setUsername(t.username),void 0!==t.password&&this.setPassword(t.password),void 0!==t.hostname&&this.setHostname(t.hostname),void 0!==t.port&&this.setPort(t.port),void 0!==t.path&&this.setPath(t.path),void 0!==t.queryItems&&this.setQueryItems(t.queryItems),void 0!==t.fragment&&this.setFragment(t.fragment),this}}const c="cookie_store_cookies";class u extends t{options;_cookies={};get cookies(){return Object.freeze(Object.values(this._cookies))}set cookies(e){const t={};for(const n of e)this.isCookieExpired(n)||(t[this.cookieIdentifier(n)]=n);this._cookies=t,this.saveCookiesToStorage()}constructor(e){super("cookie_store"),this.options=e,this.loadCookiesFromStorage()}async interceptRequest(e){return e.cookies={...e.cookies??{},...this.cookiesForUrl(e.url).reduce((e,t)=>(e[t.name]=t.value,e),{})},e}async interceptResponse(e,t,n){const o=this._cookies;for(const e of t.cookies){const t=this.cookieIdentifier(e);this.isCookieExpired(e)?delete o[t]:o[t]=e}return this._cookies=o,this.saveCookiesToStorage(),n}setCookie(e){this.isCookieExpired(e)||(this._cookies[this.cookieIdentifier(e)]=e,this.saveCookiesToStorage())}deleteCookie(e){delete this._cookies[this.cookieIdentifier(e)]}cookiesForUrl(e){console.log("[COMPAT] COOKIES FOR URL");const t=new a(e),n=t.hostname;if(!n)return[];const o={},s=t.path.startsWith("/")?t.path:`/${t.path}`,r=n.split("."),i=s.split("/");i.shift();const c=this.cookies;for(const e of c){if(this.isCookieExpired(e)){delete this._cookies[this.cookieIdentifier(e)];continue}const t=this.cookieSanitizedDomain(e).split(".");if(r.length<t.length||0==t.length)continue;let n=!0;for(let e=0;e<t.length;e++){const o=t.length-1-e,s=r.length-1-e;if(t[o]!=r[s]){n=!1;break}}if(!n)continue;const a=this.cookieSanitizedPath(e),c=a.split("/");c.shift();let u=0;if(s===a)u=Number.MAX_SAFE_INTEGER;else if(0===c.length||"/"===a)u=1;else if(s.startsWith(a)&&i.length>=c.length)for(let e=0;e<c.length&&c[e]===i[e];e++)u+=1;u<=0||(o[e.name]?.pathMatches??0)<u&&(o[e.name]={cookie:e,pathMatches:u})}return Object.values(o).map(e=>e.cookie)}cookieIdentifier(e){return`${e.name}-${this.cookieSanitizedDomain(e)}-${this.cookieSanitizedPath(e)}`}cookieSanitizedPath(e){return e.path?.startsWith("/")?e.path:"/"+(e.path??"")}cookieSanitizedDomain(e){return e.domain.replace(/^(www)?\.?/gi,"").toLowerCase()}isCookieExpired(e){return!!(e.expires&&e.expires.getTime()<=Date.now())}loadCookiesFromStorage(){if("memory"==this.options.storage)return;const e=Application.getState(c);if(!e)return void(this._cookies={});const t={};for(const n of e)n.expires&&!this.isCookieExpired(n)&&(t[this.cookieIdentifier(n)]=n);this._cookies=t}saveCookiesToStorage(){"memory"!=this.options.storage&&Application.setState(this.cookies.filter(e=>e.expires),c)}}var l,h;!function(e){e[e.NONE=0]="NONE",e[e.MANGA_CHAPTERS=1]="MANGA_CHAPTERS",e[e.CHAPTER_PROVIDING=1]="CHAPTER_PROVIDING",e[e.MANGA_PROGRESS=2]="MANGA_PROGRESS",e[e.MANGA_PROGRESS_PROVIDING=2]="MANGA_PROGRESS_PROVIDING",e[e.DISCOVER_SECIONS=4]="DISCOVER_SECIONS",e[e.DISCOVER_SECIONS_PROVIDING=4]="DISCOVER_SECIONS_PROVIDING",e[e.COLLECTION_MANAGEMENT=8]="COLLECTION_MANAGEMENT",e[e.MANAGED_COLLECTION_PROVIDING=8]="MANAGED_COLLECTION_PROVIDING",e[e.CLOUDFLARE_BYPASS_REQUIRED=16]="CLOUDFLARE_BYPASS_REQUIRED",e[e.CLOUDFLARE_BYPASS_PROVIDING=16]="CLOUDFLARE_BYPASS_PROVIDING",e[e.SETTINGS_UI=32]="SETTINGS_UI",e[e.SETTINGS_FORM_PROVIDING=32]="SETTINGS_FORM_PROVIDING",e[e.MANGA_SEARCH=64]="MANGA_SEARCH",e[e.SEARCH_RESULTS_PROVIDING=64]="SEARCH_RESULTS_PROVIDING"}(l||(l={})),function(e){e.EVERYONE="SAFE",e.MATURE="MATURE",e.ADULT="ADULT"}(h||(h={}));var d=Object.defineProperty,p=(e,t)=>d(e,"name",{value:t,configurable:!0}),f=(e,t)=>{for(var n in t)d(e,n,{get:t[n],enumerable:!0})},g={};f(g,{addChainableMethod:()=>xt,addLengthGuard:()=>at,addMethod:()=>dt,addProperty:()=>rt,checkError:()=>b,compareByInspect:()=>Ot,eql:()=>_e,expectTypes:()=>k,flag:()=>E,getActual:()=>I,getMessage:()=>Pe,getName:()=>Pt,getOperator:()=>Mt,getOwnEnumerableProperties:()=>Et,getOwnEnumerablePropertySymbols:()=>St,getPathInfo:()=>nt,hasProperty:()=>Xe,inspect:()=>Ae,isNaN:()=>Nt,isNumeric:()=>It,isProxyEnabled:()=>st,isRegExp:()=>kt,objDisplay:()=>Me,overwriteChainableMethod:()=>vt,overwriteMethod:()=>ft,overwriteProperty:()=>pt,proxify:()=>lt,test:()=>N,transferFlags:()=>ke,type:()=>A});var b={};function m(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function w(e,t){return m(t)&&e===t}function x(e,t){return m(t)?e.constructor===t.constructor||e instanceof t.constructor:!("object"!=typeof t&&"function"!=typeof t||!t.prototype)&&(e.constructor===t||e instanceof t)}function v(e,t){const n="string"==typeof e?e:e.message;return y(t)?t.test(n):"string"==typeof t&&-1!==n.indexOf(t)}function O(e){let t=e;return m(e)?t=e.constructor.name:"function"==typeof e&&(t=e.name,""===t)&&(t=(new e).name||t),t}function S(e){let t="";return e&&e.message?t=e.message:"string"==typeof e&&(t=e),t}function E(e,t,n){let o=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return o[t];o[t]=n}function N(e,t){let n=E(e,"negate"),o=t[0];return n?!o:o}function A(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=e[Symbol.toStringTag];return"string"==typeof t?t:Object.prototype.toString.call(e).slice(8,-1)}f(b,{compatibleConstructor:()=>x,compatibleInstance:()=>w,compatibleMessage:()=>v,getConstructorName:()=>O,getMessage:()=>S}),p(m,"isErrorInstance"),p(y,"isRegExp"),p(w,"compatibleInstance"),p(x,"compatibleConstructor"),p(v,"compatibleMessage"),p(O,"getConstructorName"),p(S,"getMessage"),p(E,"flag"),p(N,"test"),p(A,"type");var M="captureStackTrace"in Error,P=class e extends Error{static{p(this,"AssertionError")}message;get name(){return"AssertionError"}get ok(){return!1}constructor(t="Unspecified AssertionError",n,o){super(t),this.message=t,M&&Error.captureStackTrace(this,o||e);for(const e in n)e in this||(this[e]=n[e])}toJSON(e){return{...this,name:this.name,message:this.message,ok:!1,stack:!1!==e?this.stack:void 0}}};function k(e,t){let n=E(e,"message"),o=E(e,"ssfi");n=n?n+": ":"",e=E(e,"object"),(t=t.map(function(e){return e.toLowerCase()})).sort();let s=t.map(function(e,n){let o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a";return(t.length>1&&n===t.length-1?"or ":"")+o+" "+e}).join(", "),r=A(e).toLowerCase();if(!t.some(function(e){return r===e}))throw new P(n+"object tested must be "+s+", but "+r+" given",void 0,o)}function I(e,t){return t.length>4?t[4]:e._obj}p(k,"expectTypes"),p(I,"getActual");var j={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},C={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},D="â€¦";function T(e,t){const n=j[C[t]]||j[t]||"";return n?`[${n[0]}m${String(e)}[${n[1]}m`:String(e)}function _({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:o=!0,showProxy:s=!1,maxArrayLength:r=1/0,breakLength:i=1/0,seen:a=[],truncate:c=1/0,stylize:u=String}={},l){const h={showHidden:Boolean(e),depth:Number(t),colors:Boolean(n),customInspect:Boolean(o),showProxy:Boolean(s),maxArrayLength:Number(r),breakLength:Number(i),truncate:Number(c),seen:a,inspect:l,stylize:u};return h.colors&&(h.stylize=T),h}function R(e){return e>="\ud800"&&e<="\udbff"}function q(e,t,n=D){e=String(e);const o=n.length,s=e.length;if(o>t&&s>o)return n;if(s>t&&s>o){let s=t-o;return s>0&&R(e[s-1])&&(s-=1),`${e.slice(0,s)}${n}`}return e}function $(e,t,n,o=", "){n=n||t.inspect;const s=e.length;if(0===s)return"";const r=t.truncate;let i="",a="",c="";for(let u=0;u<s;u+=1){const s=u+1===e.length,l=u+2===e.length;c=`${D}(${e.length-u})`;const h=e[u];t.truncate=r-i.length-(s?0:o.length);const d=a||n(h,t)+(s?"":o),p=i.length+d.length,f=p+c.length;if(s&&p>r&&i.length+c.length<=r)break;if(!s&&!l&&f>r)break;if(a=s?"":n(e[u+1],t)+(l?"":o),!s&&l&&f>r&&p+a.length>r)break;if(i+=d,!s&&!l&&p+a.length>=r){c=`${D}(${e.length-u-1})`;break}c=""}return`${i}${c}`}function L(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function z([e,t],n){return n.truncate-=2,"string"==typeof e?e=L(e):"number"!=typeof e&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,`${e}: ${t=n.inspect(t,n)}`}function B(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const o=$(e,t);t.truncate-=o.length;let s="";return n.length&&(s=$(n.map(t=>[t,e[t]]),t,z)),`[ ${o}${s?`, ${s}`:""} ]`}p(T,"colorise"),p(_,"normaliseOptions"),p(R,"isHighSurrogate"),p(q,"truncate"),p($,"inspectList"),p(L,"quoteComplexKey"),p(z,"inspectProperty"),p(B,"inspectArray");var G=p(e=>"function"==typeof Buffer&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name,"getArrayName");function U(e,t){const n=G(e);t.truncate-=n.length+4;const o=Object.keys(e).slice(e.length);if(!e.length&&!o.length)return`${n}[]`;let s="";for(let n=0;n<e.length;n++){const o=`${t.stylize(q(e[n],t.truncate),"number")}${n===e.length-1?"":", "}`;if(t.truncate-=o.length,e[n]!==e.length&&t.truncate<=3){s+=`${D}(${e.length-e[n]+1})`;break}s+=o}let r="";return o.length&&(r=$(o.map(t=>[t,e[t]]),t,z)),`${n}[ ${s}${r?`, ${r}`:""} ]`}function F(e,t){const n=e.toJSON();if(null===n)return"Invalid Date";const o=n.split("T"),s=o[0];return t.stylize(`${s}T${q(o[1],t.truncate-s.length-1)}`,"date")}function V(e,t){const n=e[Symbol.toStringTag]||"Function",o=e.name;return o?t.stylize(`[${n} ${q(o,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function H([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,`${e} => ${t=n.inspect(t,n)}`}function K(e){const t=[];return e.forEach((e,n)=>{t.push([n,e])}),t}function W(e,t){return 0===e.size?"Map{}":(t.truncate-=7,`Map{ ${$(K(e),t,H)} }`)}p(U,"inspectTypedArray"),p(F,"inspectDate"),p(V,"inspectFunction"),p(H,"inspectMapEntry"),p(K,"mapToEntries"),p(W,"inspectMap");var Y=Number.isNaN||(e=>e!=e);function Q(e,t){return Y(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):0===e?t.stylize(1/e==1/0?"+0":"-0","number"):t.stylize(q(String(e),t.truncate),"number")}function Z(e,t){let n=q(e.toString(),t.truncate-1);return n!==D&&(n+="n"),t.stylize(n,"bigint")}function J(e,t){const n=e.toString().split("/")[2],o=t.truncate-(2+n.length),s=e.source;return t.stylize(`/${q(s,o)}/${n}`,"regexp")}function X(e){const t=[];return e.forEach(e=>{t.push(e)}),t}function ee(e,t){return 0===e.size?"Set{}":(t.truncate-=7,`Set{ ${$(X(e),t)} }`)}p(Q,"inspectNumber"),p(Z,"inspectBigInt"),p(J,"inspectRegExp"),p(X,"arrayFromSet"),p(ee,"inspectSet");var te=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),ne={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};function oe(e){return ne[e]||`\\u${`0000${e.charCodeAt(0).toString(16)}`.slice(-4)}`}function se(e,t){return te.test(e)&&(e=e.replace(te,oe)),t.stylize(`'${q(e,t.truncate-2)}'`,"string")}function re(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}p(oe,"escape"),p(se,"inspectString"),p(re,"inspectSymbol");var ie=p(()=>"Promise{â€¦}","getPromiseValue");function ae(e,t){const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(0===n.length&&0===o.length)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const s=$(n.map(t=>[t,e[t]]),t,z),r=$(o.map(t=>[t,e[t]]),t,z);t.seen.pop();let i="";return s&&r&&(i=", "),`{ ${s}${i}${r} }`}p(ae,"inspectObject");var ce=!("undefined"==typeof Symbol||!Symbol.toStringTag)&&Symbol.toStringTag;function ue(e,t){let n="";return ce&&ce in e&&(n=e[ce]),n=n||e.constructor.name,n&&"_class"!==n||(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${ae(e,t)}`}function le(e,t){return 0===e.length?"Arguments[]":(t.truncate-=13,`Arguments[ ${$(e,t)} ]`)}p(ue,"inspectClass"),p(le,"inspectArguments");var he=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function de(e,t){const n=Object.getOwnPropertyNames(e).filter(e=>-1===he.indexOf(e)),o=e.name;t.truncate-=o.length;let s="";if("string"==typeof e.message?s=q(e.message,t.truncate):n.unshift("message"),s=s?`: ${s}`:"",t.truncate-=s.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const r=$(n.map(t=>[t,e[t]]),t,z);return`${o}${s}${r?` { ${r} }`:""}`}function pe([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function fe(e,t){return $(e,t,ge,"\n")}function ge(e,t){switch(e.nodeType){case 1:return be(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}function be(e,t){const n=e.getAttributeNames(),o=e.tagName.toLowerCase(),s=t.stylize(`<${o}`,"special"),r=t.stylize(">","special"),i=t.stylize(`</${o}>`,"special");t.truncate-=2*o.length+5;let a="";n.length>0&&(a+=" ",a+=$(n.map(t=>[t,e.getAttribute(t)]),t,pe," ")),t.truncate-=a.length;const c=t.truncate;let u=fe(e.children,t);return u&&u.length>c&&(u=`${D}(${e.children.length})`),`${s}${a}${r}${u}${i}`}p(de,"inspectObject"),p(pe,"inspectAttribute"),p(fe,"inspectNodeCollection"),p(ge,"inspectNode"),p(be,"inspectHTML");var me="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("chai/inspect"):"@@chai/inspect",ye=Symbol.for("nodejs.util.inspect.custom"),we=new WeakMap,xe={},ve={undefined:p((e,t)=>t.stylize("undefined","undefined"),"undefined"),null:p((e,t)=>t.stylize("null","null"),"null"),boolean:p((e,t)=>t.stylize(String(e),"boolean"),"boolean"),Boolean:p((e,t)=>t.stylize(String(e),"boolean"),"Boolean"),number:Q,Number:Q,bigint:Z,BigInt:Z,string:se,String:se,function:V,Function:V,symbol:re,Symbol:re,Array:B,Date:F,Map:W,Set:ee,RegExp:J,Promise:ie,WeakSet:p((e,t)=>t.stylize("WeakSet{â€¦}","special"),"WeakSet"),WeakMap:p((e,t)=>t.stylize("WeakMap{â€¦}","special"),"WeakMap"),Arguments:le,Int8Array:U,Uint8Array:U,Uint8ClampedArray:U,Int16Array:U,Uint16Array:U,Int32Array:U,Uint32Array:U,Float32Array:U,Float64Array:U,Generator:p(()=>"","Generator"),DataView:p(()=>"","DataView"),ArrayBuffer:p(()=>"","ArrayBuffer"),Error:de,HTMLCollection:fe,NodeList:fe},Oe=p((e,t,n)=>me in e&&"function"==typeof e[me]?e[me](t):ye in e&&"function"==typeof e[ye]?e[ye](t.depth,t):"inspect"in e&&"function"==typeof e.inspect?e.inspect(t.depth,t):"constructor"in e&&we.has(e.constructor)?we.get(e.constructor)(e,t):xe[n]?xe[n](e,t):"","inspectCustom"),Se=Object.prototype.toString;function Ee(e,t={}){const n=_(t,Ee),{customInspect:o}=n;let s=null===e?"null":typeof e;if("object"===s&&(s=Se.call(e).slice(8,-1)),s in ve)return ve[s](e,n);if(o&&e){const t=Oe(e,n,s);if(t)return"string"==typeof t?t:Ee(t,n)}const r=!!e&&Object.getPrototypeOf(e);return r===Object.prototype||null===r?ae(e,n):e&&"function"==typeof HTMLElement&&e instanceof HTMLElement?be(e,n):"constructor"in e?e.constructor!==Object?ue(e,n):ae(e,n):e===Object(e)?ae(e,n):n.stylize(String(e),s)}p(Ee,"inspect");var Ne={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"],deepEqual:null};function Ae(e,t,n,o){return Ee(e,{colors:o,depth:void 0===n?2:n,showHidden:t,truncate:Ne.truncateThreshold?Ne.truncateThreshold:1/0})}function Me(e){let t=Ae(e),n=Object.prototype.toString.call(e);if(Ne.truncateThreshold&&t.length>=Ne.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){let t=Object.keys(e);return"{ Object ("+(t.length>2?t.splice(0,2).join(", ")+", ...":t.join(", "))+") }"}return t}return t}function Pe(e,t){let n=E(e,"negate"),o=E(e,"object"),s=t[3],r=I(e,t),i=n?t[2]:t[1],a=E(e,"message");return"function"==typeof i&&(i=i()),i=i||"",i=i.replace(/#\{this\}/g,function(){return Me(o)}).replace(/#\{act\}/g,function(){return Me(r)}).replace(/#\{exp\}/g,function(){return Me(s)}),a?a+": "+i:i}function ke(e,t,n){let o=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3!==arguments.length||n;for(let e in o)(n||"object"!==e&&"ssfi"!==e&&"lockSsfi"!==e&&"message"!=e)&&(t.__flags[e]=o[e])}function Ie(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=e[Symbol.toStringTag];return"string"==typeof t?t:Object.prototype.toString.call(e).slice(8,-1)}function je(){this._key="chai/deep-eql__"+Math.random()+Date.now()}p(Ae,"inspect"),p(Me,"objDisplay"),p(Pe,"getMessage"),p(ke,"transferFlags"),p(Ie,"type"),p(je,"FakeMap"),je.prototype={get:p(function(e){return e[this._key]},"get"),set:p(function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:t,configurable:!0})},"set")};var Ce="function"==typeof WeakMap?WeakMap:je;function De(e,t,n){if(!n||Ze(e)||Ze(t))return null;var o=n.get(e);if(o){var s=o.get(t);if("boolean"==typeof s)return s}return null}function Te(e,t,n,o){if(n&&!Ze(e)&&!Ze(t)){var s=n.get(e);s?s.set(t,o):((s=new Ce).set(t,o),n.set(e,s))}}p(De,"memoizeCompare"),p(Te,"memoizeSet");var _e=Re;function Re(e,t,n){if(n&&n.comparator)return $e(e,t,n);var o=qe(e,t);return null!==o?o:$e(e,t,n)}function qe(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t||!Ze(e)&&!Ze(t)&&null}function $e(e,t,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new Ce);var o=n&&n.comparator,s=De(e,t,n.memoize);if(null!==s)return s;var r=De(t,e,n.memoize);if(null!==r)return r;if(o){var i=o(e,t);if(!1===i||!0===i)return Te(e,t,n.memoize,i),i;var a=qe(e,t);if(null!==a)return a}var c=Ie(e);if(c!==Ie(t))return Te(e,t,n.memoize,!1),!1;Te(e,t,n.memoize,!0);var u=Le(e,t,c,n);return Te(e,t,n.memoize,u),u}function Le(e,t,n,o){switch(n){case"String":case"Number":case"Boolean":case"Date":return Re(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return Ye(e,t,["name","message","code"],o);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return Ge(e,t,o);case"RegExp":return ze(e,t);case"Generator":return Ue(e,t,o);case"DataView":return Ge(new Uint8Array(e.buffer),new Uint8Array(t.buffer),o);case"ArrayBuffer":return Ge(new Uint8Array(e),new Uint8Array(t),o);case"Set":case"Map":return Be(e,t,o);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return Qe(e,t,o)}}function ze(e,t){return e.toString()===t.toString()}function Be(e,t,n){try{if(e.size!==t.size)return!1;if(0===e.size)return!0}catch(e){return!1}var o=[],s=[];return e.forEach(p(function(e,t){o.push([e,t])},"gatherEntries")),t.forEach(p(function(e,t){s.push([e,t])},"gatherEntries")),Ge(o.sort(),s.sort(),n)}function Ge(e,t,n){var o=e.length;if(o!==t.length)return!1;if(0===o)return!0;for(var s=-1;++s<o;)if(!1===Re(e[s],t[s],n))return!1;return!0}function Ue(e,t,n){return Ge(He(e),He(t),n)}function Fe(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&void 0!==Symbol.iterator&&"function"==typeof e[Symbol.iterator]}function Ve(e){if(Fe(e))try{return He(e[Symbol.iterator]())}catch(e){return[]}return[]}function He(e){for(var t=e.next(),n=[t.value];!1===t.done;)t=e.next(),n.push(t.value);return n}function Ke(e){var t=[];for(var n in e)t.push(n);return t}function We(e){for(var t=[],n=Object.getOwnPropertySymbols(e),o=0;o<n.length;o+=1){var s=n[o];Object.getOwnPropertyDescriptor(e,s).enumerable&&t.push(s)}return t}function Ye(e,t,n,o){var s=n.length;if(0===s)return!0;for(var r=0;r<s;r+=1)if(!1===Re(e[n[r]],t[n[r]],o))return!1;return!0}function Qe(e,t,n){var o=Ke(e),s=Ke(t),r=We(e),i=We(t);if(o=o.concat(r),s=s.concat(i),o.length&&o.length===s.length)return!1!==Ge(Je(o).sort(),Je(s).sort())&&Ye(e,t,o,n);var a=Ve(e),c=Ve(t);return a.length&&a.length===c.length?(a.sort(),c.sort(),Ge(a,c,n)):0===o.length&&0===a.length&&0===s.length&&0===c.length}function Ze(e){return null===e||"object"!=typeof e}function Je(e){return e.map(p(function(e){return"symbol"==typeof e?e.toString():e},"mapSymbol"))}function Xe(e,t){return null!=e&&t in Object(e)}function et(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(e=>{if("constructor"===e||"__proto__"===e||"prototype"===e)return{};const t=/^\[(\d+)\]$/.exec(e);let n=null;return n=t?{i:parseFloat(t[1])}:{p:e.replace(/\\([.[\]])/g,"$1")},n})}function tt(e,t,n){let o=e,s=null;n=void 0===n?t.length:n;for(let e=0;e<n;e++){const r=t[e];o&&(o=void 0===r.p?o[r.i]:o[r.p],e===n-1&&(s=o))}return s}function nt(e,t){const n=et(t),o=n[n.length-1],s={parent:n.length>1?tt(e,n,n.length-1):e,name:o.p||o.i,value:tt(e,n)};return s.exists=Xe(s.parent,s.name),s}p(Re,"deepEqual"),p(qe,"simpleEqual"),p($e,"extensiveDeepEqual"),p(Le,"extensiveDeepEqualByType"),p(ze,"regexpEqual"),p(Be,"entriesEqual"),p(Ge,"iterableEqual"),p(Ue,"generatorEqual"),p(Fe,"hasIteratorFunction"),p(Ve,"getIteratorEntries"),p(He,"getGeneratorEntries"),p(Ke,"getEnumerableKeys"),p(We,"getEnumerableSymbols"),p(Ye,"keysEqual"),p(Qe,"objectEqual"),p(Ze,"isPrimitive"),p(Je,"mapSymbols"),p(Xe,"hasProperty"),p(et,"parsePath"),p(tt,"internalGetPathValue"),p(nt,"getPathInfo");var ot=class e{static{p(this,"Assertion")}__flags={};constructor(t,n,o,s){return E(this,"ssfi",o||e),E(this,"lockSsfi",s),E(this,"object",t),E(this,"message",n),E(this,"eql",Ne.deepEqual||_e),lt(this)}static get includeStack(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),Ne.includeStack}static set includeStack(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),Ne.includeStack=e}static get showDiff(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),Ne.showDiff}static set showDiff(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),Ne.showDiff=e}static addProperty(e,t){rt(this.prototype,e,t)}static addMethod(e,t){dt(this.prototype,e,t)}static addChainableMethod(e,t,n){xt(this.prototype,e,t,n)}static overwriteProperty(e,t){pt(this.prototype,e,t)}static overwriteMethod(e,t){ft(this.prototype,e,t)}static overwriteChainableMethod(e,t,n){vt(this.prototype,e,t,n)}assert(e,t,n,o,s,r){const i=N(this,arguments);if(!1!==r&&(r=!0),void 0===o&&void 0===s&&(r=!1),!0!==Ne.showDiff&&(r=!1),!i){t=Pe(this,arguments);const e={actual:I(this,arguments),expected:o,showDiff:r},n=Mt(this,arguments);throw n&&(e.operator=n),new P(t,e,Ne.includeStack?this.assert:E(this,"ssfi"))}}get _obj(){return E(this,"object")}set _obj(e){E(this,"object",e)}};function st(){return Ne.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}function rt(e,t,n){n=void 0===n?function(){}:n,Object.defineProperty(e,t,{get:p(function e(){st()||E(this,"lockSsfi")||E(this,"ssfi",e);let t=n.call(this);if(void 0!==t)return t;let o=new ot;return ke(this,o),o},"propertyGetter"),configurable:!0})}p(st,"isProxyEnabled"),p(rt,"addProperty");var it=Object.getOwnPropertyDescriptor(function(){},"length");function at(e,t,n){return it.configurable?(Object.defineProperty(e,"length",{get:p(function(){if(n)throw Error("Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.');throw Error("Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')},"get")}),e):e}function ct(e){let t=Object.getOwnPropertyNames(e);function n(e){-1===t.indexOf(e)&&t.push(e)}p(n,"addProperty");let o=Object.getPrototypeOf(e);for(;null!==o;)Object.getOwnPropertyNames(o).forEach(n),o=Object.getPrototypeOf(o);return t}p(at,"addLengthGuard"),p(ct,"getProperties");var ut=["__flags","__methods","_obj","assert"];function lt(e,t){return st()?new Proxy(e,{get:p(function e(n,o){if("string"==typeof o&&-1===Ne.proxyExcludedKeys.indexOf(o)&&!Reflect.has(n,o)){if(t)throw Error("Invalid Chai property: "+t+"."+o+'. See docs for proper usage of "'+t+'".');let e=null,s=4;throw ct(n).forEach(function(t){if(!Object.prototype.hasOwnProperty(t)&&-1===ut.indexOf(t)){let n=ht(o,t,s);n<s&&(e=t,s=n)}}),null!==e?Error("Invalid Chai property: "+o+'. Did you mean "'+e+'"?'):Error("Invalid Chai property: "+o)}return-1!==ut.indexOf(o)||E(n,"lockSsfi")||E(n,"ssfi",e),Reflect.get(n,o)},"proxyGetter")}):e}function ht(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;let o=[];for(let n=0;n<=e.length;n++)o[n]=Array(t.length+1).fill(0),o[n][0]=n;for(let e=0;e<t.length;e++)o[0][e]=e;for(let s=1;s<=e.length;s++){let r=e.charCodeAt(s-1);for(let e=1;e<=t.length;e++)Math.abs(s-e)>=n?o[s][e]=n:o[s][e]=Math.min(o[s-1][e]+1,o[s][e-1]+1,o[s-1][e-1]+(r===t.charCodeAt(e-1)?0:1))}return o[e.length][t.length]}function dt(e,t,n){let o=p(function(){E(this,"lockSsfi")||E(this,"ssfi",o);let e=n.apply(this,arguments);if(void 0!==e)return e;let t=new ot;return ke(this,t),t},"methodWrapper");at(o,t,!1),e[t]=lt(o,t)}function pt(e,t,n){let o=Object.getOwnPropertyDescriptor(e,t),s=p(function(){},"_super");o&&"function"==typeof o.get&&(s=o.get),Object.defineProperty(e,t,{get:p(function e(){st()||E(this,"lockSsfi")||E(this,"ssfi",e);let t=E(this,"lockSsfi");E(this,"lockSsfi",!0);let o=n(s).call(this);if(E(this,"lockSsfi",t),void 0!==o)return o;let r=new ot;return ke(this,r),r},"overwritingPropertyGetter"),configurable:!0})}function ft(e,t,n){let o=e[t],s=p(function(){throw new Error(t+" is not a function")},"_super");o&&"function"==typeof o&&(s=o);let r=p(function(){E(this,"lockSsfi")||E(this,"ssfi",r);let e=E(this,"lockSsfi");E(this,"lockSsfi",!0);let t=n(s).apply(this,arguments);if(E(this,"lockSsfi",e),void 0!==t)return t;let o=new ot;return ke(this,o),o},"overwritingMethodWrapper");at(r,t,!1),e[t]=lt(r,t)}p(lt,"proxify"),p(ht,"stringDistanceCapped"),p(dt,"addMethod"),p(pt,"overwriteProperty"),p(ft,"overwriteMethod");var gt="function"==typeof Object.setPrototypeOf,bt=p(function(){},"testFn"),mt=Object.getOwnPropertyNames(bt).filter(function(e){let t=Object.getOwnPropertyDescriptor(bt,e);return"object"!=typeof t||!t.configurable}),yt=Function.prototype.call,wt=Function.prototype.apply;function xt(e,t,n,o){"function"!=typeof o&&(o=p(function(){},"chainingBehavior"));let s={method:n,chainingBehavior:o};e.__methods||(e.__methods={}),e.__methods[t]=s,Object.defineProperty(e,t,{get:p(function(){s.chainingBehavior.call(this);let n=p(function(){E(this,"lockSsfi")||E(this,"ssfi",n);let e=s.method.apply(this,arguments);if(void 0!==e)return e;let t=new ot;return ke(this,t),t},"chainableMethodWrapper");if(at(n,t,!0),gt){let e=Object.create(this);e.call=yt,e.apply=wt,Object.setPrototypeOf(n,e)}else Object.getOwnPropertyNames(e).forEach(function(t){if(-1!==mt.indexOf(t))return;let o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o)});return ke(this,n),lt(n)},"chainableMethodGetter"),configurable:!0})}function vt(e,t,n,o){let s=e.__methods[t],r=s.chainingBehavior;s.chainingBehavior=p(function(){let e=o(r).call(this);if(void 0!==e)return e;let t=new ot;return ke(this,t),t},"overwritingChainableMethodGetter");let i=s.method;s.method=p(function(){let e=n(i).apply(this,arguments);if(void 0!==e)return e;let t=new ot;return ke(this,t),t},"overwritingChainableMethodWrapper")}function Ot(e,t){return Ae(e)<Ae(t)?-1:1}function St(e){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})}function Et(e){return Object.keys(e).concat(St(e))}p(xt,"addChainableMethod"),p(vt,"overwriteChainableMethod"),p(Ot,"compareByInspect"),p(St,"getOwnEnumerablePropertySymbols"),p(Et,"getOwnEnumerableProperties");var Nt=Number.isNaN;function At(e){let t=A(e);return-1!==["Array","Object","Function"].indexOf(t)}function Mt(e,t){let n=E(e,"operator"),o=E(e,"negate"),s=t[3],r=o?t[2]:t[1];if(n)return n;if("function"==typeof r&&(r=r()),r=r||"",!r)return;if(/\shave\s/.test(r))return;let i=At(s);return/\snot\s/.test(r)?i?"notDeepStrictEqual":"notStrictEqual":i?"deepStrictEqual":"strictEqual"}function Pt(e){return e.name}function kt(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function It(e){return["Number","BigInt"].includes(A(e))}p(At,"isObjectType"),p(Mt,"getOperator"),p(Pt,"getName"),p(kt,"isRegExp"),p(It,"isNumeric");var{flag:jt}=g;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(e){ot.addProperty(e)}),ot.addProperty("not",function(){jt(this,"negate",!0)}),ot.addProperty("deep",function(){jt(this,"deep",!0)}),ot.addProperty("nested",function(){jt(this,"nested",!0)}),ot.addProperty("own",function(){jt(this,"own",!0)}),ot.addProperty("ordered",function(){jt(this,"ordered",!0)}),ot.addProperty("any",function(){jt(this,"any",!0),jt(this,"all",!1)}),ot.addProperty("all",function(){jt(this,"all",!0),jt(this,"any",!1)});var Ct={function:["function","asyncfunction","generatorfunction","asyncgeneratorfunction"],asyncfunction:["asyncfunction","asyncgeneratorfunction"],generatorfunction:["generatorfunction","asyncgeneratorfunction"],asyncgeneratorfunction:["asyncgeneratorfunction"]};function Dt(e,t){t&&jt(this,"message",t),e=e.toLowerCase();let n=jt(this,"object"),o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";const s=A(n).toLowerCase();Ct.function.includes(e)?this.assert(Ct[e].includes(s),"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e):this.assert(e===s,"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e)}function Tt(e,t){return Nt(e)&&Nt(t)||e===t}function _t(){jt(this,"contains",!0)}function Rt(e,t){t&&jt(this,"message",t);let n=jt(this,"object"),o=A(n).toLowerCase(),s=jt(this,"message"),r=jt(this,"negate"),i=jt(this,"ssfi"),a=jt(this,"deep"),c=a?"deep ":"",u=a?jt(this,"eql"):Tt;s=s?s+": ":"";let l=!1;switch(o){case"string":l=-1!==n.indexOf(e);break;case"weakset":if(a)throw new P(s+"unable to use .deep.include with WeakSet",void 0,i);l=n.has(e);break;case"map":n.forEach(function(t){l=l||u(t,e)});break;case"set":a?n.forEach(function(t){l=l||u(t,e)}):l=n.has(e);break;case"array":l=a?n.some(function(t){return u(t,e)}):-1!==n.indexOf(e);break;default:{if(e!==Object(e))throw new P(s+"the given combination of arguments ("+o+" and "+A(e).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+A(e).toLowerCase(),void 0,i);let t=Object.keys(e),a=null,c=0;if(t.forEach(function(o){let s=new ot(n);if(ke(this,s,!0),jt(s,"lockSsfi",!0),r&&1!==t.length)try{s.property(o,e[o])}catch(e){if(!b.compatibleConstructor(e,P))throw e;null===a&&(a=e),c++}else s.property(o,e[o])},this),r&&t.length>1&&c===t.length)throw a;return}}this.assert(l,"expected #{this} to "+c+"include "+Ae(e),"expected #{this} to not "+c+"include "+Ae(e))}function qt(){let e=jt(this,"object");this.assert(null!=e,"expected #{this} to exist","expected #{this} to not exist")}function $t(){let e=A(jt(this,"object"));this.assert("Arguments"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function Lt(e,t){t&&jt(this,"message",t);let n=jt(this,"object");if(jt(this,"deep")){let t=jt(this,"lockSsfi");jt(this,"lockSsfi",!0),this.eql(e),jt(this,"lockSsfi",t)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function zt(e,t){t&&jt(this,"message",t);let n=jt(this,"eql");this.assert(n(e,jt(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function Bt(e,t){t&&jt(this,"message",t);let n=jt(this,"object"),o=jt(this,"doLength"),s=jt(this,"message"),r=s?s+": ":"",i=jt(this,"ssfi"),a=A(n).toLowerCase(),c=A(e).toLowerCase();if(o&&"map"!==a&&"set"!==a&&new ot(n,s,i,!0).to.have.property("length"),!o&&"date"===a&&"date"!==c)throw new P(r+"the argument to above must be a date",void 0,i);if(!It(e)&&(o||It(n)))throw new P(r+"the argument to above must be a number",void 0,i);if(!o&&"date"!==a&&!It(n))throw new P(r+"expected "+("string"===a?"'"+n+"'":n)+" to be a number or a date",void 0,i);if(o){let t,o="length";"map"===a||"set"===a?(o="size",t=n.size):t=n.length,this.assert(t>e,"expected #{this} to have a "+o+" above #{exp} but got #{act}","expected #{this} to not have a "+o+" above #{exp}",e,t)}else this.assert(n>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}function Gt(e,t){t&&jt(this,"message",t);let n,o=jt(this,"object"),s=jt(this,"doLength"),r=jt(this,"message"),i=r?r+": ":"",a=jt(this,"ssfi"),c=A(o).toLowerCase(),u=A(e).toLowerCase(),l=!0;if(s&&"map"!==c&&"set"!==c&&new ot(o,r,a,!0).to.have.property("length"),s||"date"!==c||"date"===u?It(e)||!s&&!It(o)?s||"date"===c||It(o)?l=!1:n=i+"expected "+("string"===c?"'"+o+"'":o)+" to be a number or a date":n=i+"the argument to least must be a number":n=i+"the argument to least must be a date",l)throw new P(n,void 0,a);if(s){let t,n="length";"map"===c||"set"===c?(n="size",t=o.size):t=o.length,this.assert(t>=e,"expected #{this} to have a "+n+" at least #{exp} but got #{act}","expected #{this} to have a "+n+" below #{exp}",e,t)}else this.assert(o>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}function Ut(e,t){t&&jt(this,"message",t);let n,o=jt(this,"object"),s=jt(this,"doLength"),r=jt(this,"message"),i=r?r+": ":"",a=jt(this,"ssfi"),c=A(o).toLowerCase(),u=A(e).toLowerCase(),l=!0;if(s&&"map"!==c&&"set"!==c&&new ot(o,r,a,!0).to.have.property("length"),s||"date"!==c||"date"===u?It(e)||!s&&!It(o)?s||"date"===c||It(o)?l=!1:n=i+"expected "+("string"===c?"'"+o+"'":o)+" to be a number or a date":n=i+"the argument to below must be a number":n=i+"the argument to below must be a date",l)throw new P(n,void 0,a);if(s){let t,n="length";"map"===c||"set"===c?(n="size",t=o.size):t=o.length,this.assert(t<e,"expected #{this} to have a "+n+" below #{exp} but got #{act}","expected #{this} to not have a "+n+" below #{exp}",e,t)}else this.assert(o<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}function Ft(e,t){t&&jt(this,"message",t);let n,o=jt(this,"object"),s=jt(this,"doLength"),r=jt(this,"message"),i=r?r+": ":"",a=jt(this,"ssfi"),c=A(o).toLowerCase(),u=A(e).toLowerCase(),l=!0;if(s&&"map"!==c&&"set"!==c&&new ot(o,r,a,!0).to.have.property("length"),s||"date"!==c||"date"===u?It(e)||!s&&!It(o)?s||"date"===c||It(o)?l=!1:n=i+"expected "+("string"===c?"'"+o+"'":o)+" to be a number or a date":n=i+"the argument to most must be a number":n=i+"the argument to most must be a date",l)throw new P(n,void 0,a);if(s){let t,n="length";"map"===c||"set"===c?(n="size",t=o.size):t=o.length,this.assert(t<=e,"expected #{this} to have a "+n+" at most #{exp} but got #{act}","expected #{this} to have a "+n+" above #{exp}",e,t)}else this.assert(o<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}function Vt(e,t){t&&jt(this,"message",t);let n,o=jt(this,"object"),s=jt(this,"ssfi"),r=jt(this,"message");try{n=o instanceof e}catch(t){if(t instanceof TypeError)throw r=r?r+": ":"",new P(r+"The instanceof assertion needs a constructor but "+A(e)+" was given.",void 0,s);throw t}let i=Pt(e);null==i&&(i="an unnamed constructor"),this.assert(n,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}function Ht(e,t,n){n&&jt(this,"message",n);let o=jt(this,"nested"),s=jt(this,"own"),r=jt(this,"message"),i=jt(this,"object"),a=jt(this,"ssfi"),c=typeof e;if(r=r?r+": ":"",o){if("string"!==c)throw new P(r+"the argument to property must be a string when using nested syntax",void 0,a)}else if("string"!==c&&"number"!==c&&"symbol"!==c)throw new P(r+"the argument to property must be a string, number, or symbol",void 0,a);if(o&&s)throw new P(r+'The "nested" and "own" flags cannot be combined.',void 0,a);if(null==i)throw new P(r+"Target cannot be null or undefined.",void 0,a);let u,l=jt(this,"deep"),h=jt(this,"negate"),d=o?nt(i,e):null,p=o?d.value:i[e],f=l?jt(this,"eql"):(e,t)=>e===t,g="";l&&(g+="deep "),s&&(g+="own "),o&&(g+="nested "),g+="property ",u=s?Object.prototype.hasOwnProperty.call(i,e):o?d.exists:Xe(i,e),h&&1!==arguments.length||this.assert(u,"expected #{this} to have "+g+Ae(e),"expected #{this} to not have "+g+Ae(e)),arguments.length>1&&this.assert(u&&f(t,p),"expected #{this} to have "+g+Ae(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+g+Ae(e)+" of #{act}",t,p),jt(this,"object",p)}function Kt(e,t,n){jt(this,"own",!0),Ht.apply(this,arguments)}function Wt(e,t,n){"string"==typeof t&&(n=t,t=null),n&&jt(this,"message",n);let o=jt(this,"object"),s=Object.getOwnPropertyDescriptor(Object(o),e),r=jt(this,"eql");s&&t?this.assert(r(t,s),"expected the own property descriptor for "+Ae(e)+" on #{this} to match "+Ae(t)+", got "+Ae(s),"expected the own property descriptor for "+Ae(e)+" on #{this} to not match "+Ae(t),t,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+Ae(e),"expected #{this} to not have an own property descriptor for "+Ae(e)),jt(this,"object",s)}function Yt(){jt(this,"doLength",!0)}function Qt(e,t){t&&jt(this,"message",t);let n,o=jt(this,"object"),s=A(o).toLowerCase(),r=jt(this,"message"),i=jt(this,"ssfi"),a="length";switch(s){case"map":case"set":a="size",n=o.size;break;default:new ot(o,r,i,!0).to.have.property("length"),n=o.length}this.assert(n==e,"expected #{this} to have a "+a+" of #{exp} but got #{act}","expected #{this} to not have a "+a+" of #{act}",e,n)}function Zt(e,t){t&&jt(this,"message",t);let n=jt(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function Jt(e){let t,n,o=jt(this,"object"),s=A(o),r=A(e),i=jt(this,"ssfi"),a=jt(this,"deep"),c="",u=!0,l=jt(this,"message");l=l?l+": ":"";let h=l+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===s||"Set"===s)c=a?"deeply ":"",n=[],o.forEach(function(e,t){n.push(t)}),"Array"!==r&&(e=Array.prototype.slice.call(arguments));else{switch(n=Et(o),r){case"Array":if(arguments.length>1)throw new P(h,void 0,i);break;case"Object":if(arguments.length>1)throw new P(h,void 0,i);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map(function(e){return"symbol"==typeof e?e:String(e)})}if(!e.length)throw new P(l+"keys required",void 0,i);let d=e.length,p=jt(this,"any"),f=jt(this,"all"),g=e,b=a?jt(this,"eql"):(e,t)=>e===t;if(p||f||(f=!0),p&&(u=g.some(function(e){return n.some(function(t){return b(e,t)})})),f&&(u=g.every(function(e){return n.some(function(t){return b(e,t)})}),jt(this,"contains")||(u=u&&e.length==n.length)),d>1){let n=(e=e.map(function(e){return Ae(e)})).pop();f&&(t=e.join(", ")+", and "+n),p&&(t=e.join(", ")+", or "+n)}else t=Ae(e[0]);t=(d>1?"keys ":"key ")+t,t=(jt(this,"contains")?"contain ":"have ")+t,this.assert(u,"expected #{this} to "+c+t,"expected #{this} to not "+c+t,g.slice(0).sort(Ot),n.sort(Ot),!0)}function Xt(e,t,n){n&&jt(this,"message",n);let o,s=jt(this,"object"),r=jt(this,"ssfi"),i=jt(this,"message"),a=jt(this,"negate")||!1;new ot(s,i,r,!0).is.a("function"),(kt(e)||"string"==typeof e)&&(t=e,e=null);let c=!1;try{s()}catch(e){c=!0,o=e}let u=void 0===e&&void 0===t,l=Boolean(e&&t),h=!1,d=!1;if(u||!u&&!a){let t="an error";e instanceof Error?t="#{exp}":e&&(t=b.getConstructorName(e));let n=o;if(o instanceof Error)n=o.toString();else if("string"==typeof o)n=o;else if(o&&("object"==typeof o||"function"==typeof o))try{n=b.getConstructorName(o)}catch(e){}this.assert(c,"expected #{this} to throw "+t,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),n)}if(e&&o&&(e instanceof Error&&b.compatibleInstance(o,e)===a&&(l&&a?h=!0:this.assert(a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(o&&!a?" but #{act} was thrown":""),e.toString(),o.toString())),b.compatibleConstructor(o,e)===a&&(l&&a?h=!0:this.assert(a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(o?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&b.getConstructorName(e),o instanceof Error?o.toString():o&&b.getConstructorName(o)))),o&&null!=t){let e="including";kt(t)&&(e="matching"),b.compatibleMessage(o,t)===a&&(l&&a?d=!0:this.assert(a,"expected #{this} to throw error "+e+" #{exp} but got #{act}","expected #{this} to throw error not "+e+" #{exp}",t,b.getMessage(o)))}h&&d&&this.assert(a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(o?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&b.getConstructorName(e),o instanceof Error?o.toString():o&&b.getConstructorName(o)),jt(this,"object",o)}function en(e,t){t&&jt(this,"message",t);let n=jt(this,"object"),o=jt(this,"itself"),s="function"!=typeof n||o?n[e]:n.prototype[e];this.assert("function"==typeof s,"expected #{this} to respond to "+Ae(e),"expected #{this} to not respond to "+Ae(e))}function tn(e,t){t&&jt(this,"message",t);let n=e(jt(this,"object"));this.assert(n,"expected #{this} to satisfy "+Me(e),"expected #{this} to not satisfy"+Me(e),!jt(this,"negate"),n)}function nn(e,t,n){n&&jt(this,"message",n);let o=jt(this,"object"),s=jt(this,"message"),r=jt(this,"ssfi");new ot(o,s,r,!0).is.numeric;let i="A `delta` value is required for `closeTo`";if(null==t)throw new P(s?`${s}: ${i}`:i,void 0,r);if(new ot(t,s,r,!0).is.numeric,i="A `expected` value is required for `closeTo`",null==e)throw new P(s?`${s}: ${i}`:i,void 0,r);new ot(e,s,r,!0).is.numeric;const a=p(e=>e<0n?-e:e,"abs"),c=p(e=>parseFloat(parseFloat(e).toPrecision(12)),"strip");this.assert(c(a(o-e))<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}function on(e,t,n,o,s){let r=Array.from(t),i=Array.from(e);if(!o){if(i.length!==r.length)return!1;r=r.slice()}return i.every(function(e,t){if(s)return n?n(e,r[t]):e===r[t];if(!n){let t=r.indexOf(e);return-1!==t&&(o||r.splice(t,1),!0)}return r.some(function(t,s){return!!n(e,t)&&(o||r.splice(s,1),!0)})})}function sn(e,t){t&&jt(this,"message",t);let n=jt(this,"object"),o=jt(this,"message"),s=jt(this,"ssfi"),r=jt(this,"contains"),i=jt(this,"deep"),a=jt(this,"eql");new ot(e,o,s,!0).to.be.an("array"),r?this.assert(e.some(function(e){return n.indexOf(e)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",e,n):i?this.assert(e.some(function(e){return a(n,e)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",e,n):this.assert(e.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,n)}function rn(e,t,n){n&&jt(this,"message",n);let o,s=jt(this,"object"),r=jt(this,"message"),i=jt(this,"ssfi");new ot(s,r,i,!0).is.a("function"),t?(new ot(e,r,i,!0).to.have.property(t),o=e[t]):(new ot(e,r,i,!0).is.a("function"),o=e()),s();let a=null==t?e():e[t],c=null==t?o:"."+t;jt(this,"deltaMsgObj",c),jt(this,"initialDeltaValue",o),jt(this,"finalDeltaValue",a),jt(this,"deltaBehavior","change"),jt(this,"realDelta",a!==o),this.assert(o!==a,"expected "+c+" to change","expected "+c+" to not change")}function an(e,t,n){n&&jt(this,"message",n);let o,s=jt(this,"object"),r=jt(this,"message"),i=jt(this,"ssfi");new ot(s,r,i,!0).is.a("function"),t?(new ot(e,r,i,!0).to.have.property(t),o=e[t]):(new ot(e,r,i,!0).is.a("function"),o=e()),new ot(o,r,i,!0).is.a("number"),s();let a=null==t?e():e[t],c=null==t?o:"."+t;jt(this,"deltaMsgObj",c),jt(this,"initialDeltaValue",o),jt(this,"finalDeltaValue",a),jt(this,"deltaBehavior","increase"),jt(this,"realDelta",a-o),this.assert(a-o>0,"expected "+c+" to increase","expected "+c+" to not increase")}function cn(e,t,n){n&&jt(this,"message",n);let o,s=jt(this,"object"),r=jt(this,"message"),i=jt(this,"ssfi");new ot(s,r,i,!0).is.a("function"),t?(new ot(e,r,i,!0).to.have.property(t),o=e[t]):(new ot(e,r,i,!0).is.a("function"),o=e()),new ot(o,r,i,!0).is.a("number"),s();let a=null==t?e():e[t],c=null==t?o:"."+t;jt(this,"deltaMsgObj",c),jt(this,"initialDeltaValue",o),jt(this,"finalDeltaValue",a),jt(this,"deltaBehavior","decrease"),jt(this,"realDelta",o-a),this.assert(a-o<0,"expected "+c+" to decrease","expected "+c+" to not decrease")}function un(e,t){t&&jt(this,"message",t);let n,o=jt(this,"deltaMsgObj"),s=jt(this,"initialDeltaValue"),r=jt(this,"finalDeltaValue"),i=jt(this,"deltaBehavior"),a=jt(this,"realDelta");n="change"===i?Math.abs(r-s)===Math.abs(e):a===Math.abs(e),this.assert(n,"expected "+o+" to "+i+" by "+e,"expected "+o+" to not "+i+" by "+e)}function ln(e,t){return e===t||typeof t==typeof e&&("object"!=typeof e||null===e?e===t:!!t&&(Array.isArray(e)?!!Array.isArray(t)&&e.every(function(e){return t.some(function(t){return ln(e,t)})}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Object.keys(e).every(function(n){let o=e[n],s=t[n];return"object"==typeof o&&null!==o&&null!==s?ln(o,s):"function"==typeof o?o(s):s===o})))}function hn(e,t){return new ot(e,t)}p(Dt,"an"),ot.addChainableMethod("an",Dt),ot.addChainableMethod("a",Dt),p(Tt,"SameValueZero"),p(_t,"includeChainingBehavior"),p(Rt,"include"),ot.addChainableMethod("include",Rt,_t),ot.addChainableMethod("contain",Rt,_t),ot.addChainableMethod("contains",Rt,_t),ot.addChainableMethod("includes",Rt,_t),ot.addProperty("ok",function(){this.assert(jt(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),ot.addProperty("true",function(){this.assert(!0===jt(this,"object"),"expected #{this} to be true","expected #{this} to be false",!jt(this,"negate"))}),ot.addProperty("numeric",function(){const e=jt(this,"object");this.assert(["Number","BigInt"].includes(A(e)),"expected #{this} to be numeric","expected #{this} to not be numeric",!jt(this,"negate"))}),ot.addProperty("callable",function(){const e=jt(this,"object"),t=jt(this,"ssfi"),n=jt(this,"message"),o=n?`${n}: `:"",s=jt(this,"negate"),r=s?`${o}expected ${Ae(e)} not to be a callable function`:`${o}expected ${Ae(e)} to be a callable function`,i=["Function","AsyncFunction","GeneratorFunction","AsyncGeneratorFunction"].includes(A(e));if(i&&s||!i&&!s)throw new P(r,void 0,t)}),ot.addProperty("false",function(){this.assert(!1===jt(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!jt(this,"negate"))}),ot.addProperty("null",function(){this.assert(null===jt(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),ot.addProperty("undefined",function(){this.assert(void 0===jt(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),ot.addProperty("NaN",function(){this.assert(Nt(jt(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),p(qt,"assertExist"),ot.addProperty("exist",qt),ot.addProperty("exists",qt),ot.addProperty("empty",function(){let e,t=jt(this,"object"),n=jt(this,"ssfi"),o=jt(this,"message");switch(o=o?o+": ":"",A(t).toLowerCase()){case"array":case"string":e=t.length;break;case"map":case"set":e=t.size;break;case"weakmap":case"weakset":throw new P(o+".empty was passed a weak collection",void 0,n);case"function":{const e=o+".empty was passed a function "+Pt(t);throw new P(e.trim(),void 0,n)}default:if(t!==Object(t))throw new P(o+".empty was passed non-string primitive "+Ae(t),void 0,n);e=Object.keys(t).length}this.assert(0===e,"expected #{this} to be empty","expected #{this} not to be empty")}),p($t,"checkArguments"),ot.addProperty("arguments",$t),ot.addProperty("Arguments",$t),p(Lt,"assertEqual"),ot.addMethod("equal",Lt),ot.addMethod("equals",Lt),ot.addMethod("eq",Lt),p(zt,"assertEql"),ot.addMethod("eql",zt),ot.addMethod("eqls",zt),p(Bt,"assertAbove"),ot.addMethod("above",Bt),ot.addMethod("gt",Bt),ot.addMethod("greaterThan",Bt),p(Gt,"assertLeast"),ot.addMethod("least",Gt),ot.addMethod("gte",Gt),ot.addMethod("greaterThanOrEqual",Gt),p(Ut,"assertBelow"),ot.addMethod("below",Ut),ot.addMethod("lt",Ut),ot.addMethod("lessThan",Ut),p(Ft,"assertMost"),ot.addMethod("most",Ft),ot.addMethod("lte",Ft),ot.addMethod("lessThanOrEqual",Ft),ot.addMethod("within",function(e,t,n){n&&jt(this,"message",n);let o,s=jt(this,"object"),r=jt(this,"doLength"),i=jt(this,"message"),a=i?i+": ":"",c=jt(this,"ssfi"),u=A(s).toLowerCase(),l=A(e).toLowerCase(),h=A(t).toLowerCase(),d=!0,p="date"===l&&"date"===h?e.toISOString()+".."+t.toISOString():e+".."+t;if(r&&"map"!==u&&"set"!==u&&new ot(s,i,c,!0).to.have.property("length"),r||"date"!==u||"date"===l&&"date"===h?It(e)&&It(t)||!r&&!It(s)?r||"date"===u||It(s)?d=!1:o=a+"expected "+("string"===u?"'"+s+"'":s)+" to be a number or a date":o=a+"the arguments to within must be numbers":o=a+"the arguments to within must be dates",d)throw new P(o,void 0,c);if(r){let n,o="length";"map"===u||"set"===u?(o="size",n=s.size):n=s.length,this.assert(n>=e&&n<=t,"expected #{this} to have a "+o+" within "+p,"expected #{this} to not have a "+o+" within "+p)}else this.assert(s>=e&&s<=t,"expected #{this} to be within "+p,"expected #{this} to not be within "+p)}),p(Vt,"assertInstanceOf"),ot.addMethod("instanceof",Vt),ot.addMethod("instanceOf",Vt),p(Ht,"assertProperty"),ot.addMethod("property",Ht),p(Kt,"assertOwnProperty"),ot.addMethod("ownProperty",Kt),ot.addMethod("haveOwnProperty",Kt),p(Wt,"assertOwnPropertyDescriptor"),ot.addMethod("ownPropertyDescriptor",Wt),ot.addMethod("haveOwnPropertyDescriptor",Wt),p(Yt,"assertLengthChain"),p(Qt,"assertLength"),ot.addChainableMethod("length",Qt,Yt),ot.addChainableMethod("lengthOf",Qt,Yt),p(Zt,"assertMatch"),ot.addMethod("match",Zt),ot.addMethod("matches",Zt),ot.addMethod("string",function(e,t){t&&jt(this,"message",t);let n=jt(this,"object"),o=jt(this,"message"),s=jt(this,"ssfi");new ot(n,o,s,!0).is.a("string"),this.assert(~n.indexOf(e),"expected #{this} to contain "+Ae(e),"expected #{this} to not contain "+Ae(e))}),p(Jt,"assertKeys"),ot.addMethod("keys",Jt),ot.addMethod("key",Jt),p(Xt,"assertThrows"),ot.addMethod("throw",Xt),ot.addMethod("throws",Xt),ot.addMethod("Throw",Xt),p(en,"respondTo"),ot.addMethod("respondTo",en),ot.addMethod("respondsTo",en),ot.addProperty("itself",function(){jt(this,"itself",!0)}),p(tn,"satisfy"),ot.addMethod("satisfy",tn),ot.addMethod("satisfies",tn),p(nn,"closeTo"),ot.addMethod("closeTo",nn),ot.addMethod("approximately",nn),p(on,"isSubsetOf"),ot.addMethod("members",function(e,t){t&&jt(this,"message",t);let n=jt(this,"object"),o=jt(this,"message"),s=jt(this,"ssfi");new ot(n,o,s,!0).to.be.iterable,new ot(e,o,s,!0).to.be.iterable;let r,i,a,c=jt(this,"contains"),u=jt(this,"ordered");c?(r=u?"an ordered superset":"a superset",i="expected #{this} to be "+r+" of #{exp}",a="expected #{this} to not be "+r+" of #{exp}"):(r=u?"ordered members":"members",i="expected #{this} to have the same "+r+" as #{exp}",a="expected #{this} to not have the same "+r+" as #{exp}");let l=jt(this,"deep")?jt(this,"eql"):void 0;this.assert(on(e,n,l,c,u),i,a,e,n,!0)}),ot.addProperty("iterable",function(e){e&&jt(this,"message",e);let t=jt(this,"object");this.assert(null!=t&&t[Symbol.iterator],"expected #{this} to be an iterable","expected #{this} to not be an iterable",t)}),p(sn,"oneOf"),ot.addMethod("oneOf",sn),p(rn,"assertChanges"),ot.addMethod("change",rn),ot.addMethod("changes",rn),p(an,"assertIncreases"),ot.addMethod("increase",an),ot.addMethod("increases",an),p(cn,"assertDecreases"),ot.addMethod("decrease",cn),ot.addMethod("decreases",cn),p(un,"assertDelta"),ot.addMethod("by",un),ot.addProperty("extensible",function(){let e=jt(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),ot.addProperty("sealed",function(){let e=jt(this,"object"),t=e!==Object(e)||Object.isSealed(e);this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),ot.addProperty("frozen",function(){let e=jt(this,"object"),t=e!==Object(e)||Object.isFrozen(e);this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")}),ot.addProperty("finite",function(e){let t=jt(this,"object");this.assert("number"==typeof t&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")}),p(ln,"compareSubset"),ot.addMethod("containSubset",function(e){const t=E(this,"object"),n=Ne.showDiff;this.assert(ln(e,t),"expected #{act} to contain subset #{exp}","expected #{act} to not contain subset #{exp}",e,t,n)}),p(hn,"expect"),hn.fail=function(e,t,n,o){throw arguments.length<2&&(n=e,e=void 0),new P(n=n||"expect.fail()",{actual:e,expected:t,operator:o},hn.fail)};var dn={};function pn(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol||"function"==typeof BigInt&&this instanceof BigInt?new ot(this.valueOf(),null,e):new ot(this,null,e)}function t(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}p(e,"shouldGetter"),p(t,"shouldSetter"),Object.defineProperty(Object.prototype,"should",{set:t,get:e,configurable:!0});let n={fail:function(e,t,o,s){throw arguments.length<2&&(o=e,e=void 0),new P(o=o||"should.fail()",{actual:e,expected:t,operator:s},n.fail)},equal:function(e,t,n){new ot(e,n).to.equal(t)},Throw:function(e,t,n,o){new ot(e,o).to.Throw(t,n)},exist:function(e,t){new ot(e,t).to.exist},not:{}};return n.not.equal=function(e,t,n){new ot(e,n).to.not.equal(t)},n.not.Throw=function(e,t,n,o){new ot(e,o).to.not.Throw(t,n)},n.not.exist=function(e,t){new ot(e,t).to.not.exist},n.throw=n.Throw,n.not.throw=n.not.Throw,n}f(dn,{Should:()=>gn,should:()=>fn}),p(pn,"loadShould");var fn=pn,gn=pn;function bn(e,t){new ot(null,null,bn,!0).assert(e,t,"[ negation message unavailable ]")}p(bn,"assert"),bn.fail=function(e,t,n,o){throw arguments.length<2&&(n=e,e=void 0),new P(n=n||"assert.fail()",{actual:e,expected:t,operator:o},bn.fail)},bn.isOk=function(e,t){new ot(e,t,bn.isOk,!0).is.ok},bn.isNotOk=function(e,t){new ot(e,t,bn.isNotOk,!0).is.not.ok},bn.equal=function(e,t,n){let o=new ot(e,n,bn.equal,!0);o.assert(t==E(o,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)},bn.notEqual=function(e,t,n){let o=new ot(e,n,bn.notEqual,!0);o.assert(t!=E(o,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)},bn.strictEqual=function(e,t,n){new ot(e,n,bn.strictEqual,!0).to.equal(t)},bn.notStrictEqual=function(e,t,n){new ot(e,n,bn.notStrictEqual,!0).to.not.equal(t)},bn.deepEqual=bn.deepStrictEqual=function(e,t,n){new ot(e,n,bn.deepEqual,!0).to.eql(t)},bn.notDeepEqual=function(e,t,n){new ot(e,n,bn.notDeepEqual,!0).to.not.eql(t)},bn.isAbove=function(e,t,n){new ot(e,n,bn.isAbove,!0).to.be.above(t)},bn.isAtLeast=function(e,t,n){new ot(e,n,bn.isAtLeast,!0).to.be.least(t)},bn.isBelow=function(e,t,n){new ot(e,n,bn.isBelow,!0).to.be.below(t)},bn.isAtMost=function(e,t,n){new ot(e,n,bn.isAtMost,!0).to.be.most(t)},bn.isTrue=function(e,t){new ot(e,t,bn.isTrue,!0).is.true},bn.isNotTrue=function(e,t){new ot(e,t,bn.isNotTrue,!0).to.not.equal(!0)},bn.isFalse=function(e,t){new ot(e,t,bn.isFalse,!0).is.false},bn.isNotFalse=function(e,t){new ot(e,t,bn.isNotFalse,!0).to.not.equal(!1)},bn.isNull=function(e,t){new ot(e,t,bn.isNull,!0).to.equal(null)},bn.isNotNull=function(e,t){new ot(e,t,bn.isNotNull,!0).to.not.equal(null)},bn.isNaN=function(e,t){new ot(e,t,bn.isNaN,!0).to.be.NaN},bn.isNotNaN=function(e,t){new ot(e,t,bn.isNotNaN,!0).not.to.be.NaN},bn.exists=function(e,t){new ot(e,t,bn.exists,!0).to.exist},bn.notExists=function(e,t){new ot(e,t,bn.notExists,!0).to.not.exist},bn.isUndefined=function(e,t){new ot(e,t,bn.isUndefined,!0).to.equal(void 0)},bn.isDefined=function(e,t){new ot(e,t,bn.isDefined,!0).to.not.equal(void 0)},bn.isCallable=function(e,t){new ot(e,t,bn.isCallable,!0).is.callable},bn.isNotCallable=function(e,t){new ot(e,t,bn.isNotCallable,!0).is.not.callable},bn.isObject=function(e,t){new ot(e,t,bn.isObject,!0).to.be.a("object")},bn.isNotObject=function(e,t){new ot(e,t,bn.isNotObject,!0).to.not.be.a("object")},bn.isArray=function(e,t){new ot(e,t,bn.isArray,!0).to.be.an("array")},bn.isNotArray=function(e,t){new ot(e,t,bn.isNotArray,!0).to.not.be.an("array")},bn.isString=function(e,t){new ot(e,t,bn.isString,!0).to.be.a("string")},bn.isNotString=function(e,t){new ot(e,t,bn.isNotString,!0).to.not.be.a("string")},bn.isNumber=function(e,t){new ot(e,t,bn.isNumber,!0).to.be.a("number")},bn.isNotNumber=function(e,t){new ot(e,t,bn.isNotNumber,!0).to.not.be.a("number")},bn.isNumeric=function(e,t){new ot(e,t,bn.isNumeric,!0).is.numeric},bn.isNotNumeric=function(e,t){new ot(e,t,bn.isNotNumeric,!0).is.not.numeric},bn.isFinite=function(e,t){new ot(e,t,bn.isFinite,!0).to.be.finite},bn.isBoolean=function(e,t){new ot(e,t,bn.isBoolean,!0).to.be.a("boolean")},bn.isNotBoolean=function(e,t){new ot(e,t,bn.isNotBoolean,!0).to.not.be.a("boolean")},bn.typeOf=function(e,t,n){new ot(e,n,bn.typeOf,!0).to.be.a(t)},bn.notTypeOf=function(e,t,n){new ot(e,n,bn.notTypeOf,!0).to.not.be.a(t)},bn.instanceOf=function(e,t,n){new ot(e,n,bn.instanceOf,!0).to.be.instanceOf(t)},bn.notInstanceOf=function(e,t,n){new ot(e,n,bn.notInstanceOf,!0).to.not.be.instanceOf(t)},bn.include=function(e,t,n){new ot(e,n,bn.include,!0).include(t)},bn.notInclude=function(e,t,n){new ot(e,n,bn.notInclude,!0).not.include(t)},bn.deepInclude=function(e,t,n){new ot(e,n,bn.deepInclude,!0).deep.include(t)},bn.notDeepInclude=function(e,t,n){new ot(e,n,bn.notDeepInclude,!0).not.deep.include(t)},bn.nestedInclude=function(e,t,n){new ot(e,n,bn.nestedInclude,!0).nested.include(t)},bn.notNestedInclude=function(e,t,n){new ot(e,n,bn.notNestedInclude,!0).not.nested.include(t)},bn.deepNestedInclude=function(e,t,n){new ot(e,n,bn.deepNestedInclude,!0).deep.nested.include(t)},bn.notDeepNestedInclude=function(e,t,n){new ot(e,n,bn.notDeepNestedInclude,!0).not.deep.nested.include(t)},bn.ownInclude=function(e,t,n){new ot(e,n,bn.ownInclude,!0).own.include(t)},bn.notOwnInclude=function(e,t,n){new ot(e,n,bn.notOwnInclude,!0).not.own.include(t)},bn.deepOwnInclude=function(e,t,n){new ot(e,n,bn.deepOwnInclude,!0).deep.own.include(t)},bn.notDeepOwnInclude=function(e,t,n){new ot(e,n,bn.notDeepOwnInclude,!0).not.deep.own.include(t)},bn.match=function(e,t,n){new ot(e,n,bn.match,!0).to.match(t)},bn.notMatch=function(e,t,n){new ot(e,n,bn.notMatch,!0).to.not.match(t)},bn.property=function(e,t,n){new ot(e,n,bn.property,!0).to.have.property(t)},bn.notProperty=function(e,t,n){new ot(e,n,bn.notProperty,!0).to.not.have.property(t)},bn.propertyVal=function(e,t,n,o){new ot(e,o,bn.propertyVal,!0).to.have.property(t,n)},bn.notPropertyVal=function(e,t,n,o){new ot(e,o,bn.notPropertyVal,!0).to.not.have.property(t,n)},bn.deepPropertyVal=function(e,t,n,o){new ot(e,o,bn.deepPropertyVal,!0).to.have.deep.property(t,n)},bn.notDeepPropertyVal=function(e,t,n,o){new ot(e,o,bn.notDeepPropertyVal,!0).to.not.have.deep.property(t,n)},bn.ownProperty=function(e,t,n){new ot(e,n,bn.ownProperty,!0).to.have.own.property(t)},bn.notOwnProperty=function(e,t,n){new ot(e,n,bn.notOwnProperty,!0).to.not.have.own.property(t)},bn.ownPropertyVal=function(e,t,n,o){new ot(e,o,bn.ownPropertyVal,!0).to.have.own.property(t,n)},bn.notOwnPropertyVal=function(e,t,n,o){new ot(e,o,bn.notOwnPropertyVal,!0).to.not.have.own.property(t,n)},bn.deepOwnPropertyVal=function(e,t,n,o){new ot(e,o,bn.deepOwnPropertyVal,!0).to.have.deep.own.property(t,n)},bn.notDeepOwnPropertyVal=function(e,t,n,o){new ot(e,o,bn.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,n)},bn.nestedProperty=function(e,t,n){new ot(e,n,bn.nestedProperty,!0).to.have.nested.property(t)},bn.notNestedProperty=function(e,t,n){new ot(e,n,bn.notNestedProperty,!0).to.not.have.nested.property(t)},bn.nestedPropertyVal=function(e,t,n,o){new ot(e,o,bn.nestedPropertyVal,!0).to.have.nested.property(t,n)},bn.notNestedPropertyVal=function(e,t,n,o){new ot(e,o,bn.notNestedPropertyVal,!0).to.not.have.nested.property(t,n)},bn.deepNestedPropertyVal=function(e,t,n,o){new ot(e,o,bn.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,n)},bn.notDeepNestedPropertyVal=function(e,t,n,o){new ot(e,o,bn.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,n)},bn.lengthOf=function(e,t,n){new ot(e,n,bn.lengthOf,!0).to.have.lengthOf(t)},bn.hasAnyKeys=function(e,t,n){new ot(e,n,bn.hasAnyKeys,!0).to.have.any.keys(t)},bn.hasAllKeys=function(e,t,n){new ot(e,n,bn.hasAllKeys,!0).to.have.all.keys(t)},bn.containsAllKeys=function(e,t,n){new ot(e,n,bn.containsAllKeys,!0).to.contain.all.keys(t)},bn.doesNotHaveAnyKeys=function(e,t,n){new ot(e,n,bn.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)},bn.doesNotHaveAllKeys=function(e,t,n){new ot(e,n,bn.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)},bn.hasAnyDeepKeys=function(e,t,n){new ot(e,n,bn.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)},bn.hasAllDeepKeys=function(e,t,n){new ot(e,n,bn.hasAllDeepKeys,!0).to.have.all.deep.keys(t)},bn.containsAllDeepKeys=function(e,t,n){new ot(e,n,bn.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)},bn.doesNotHaveAnyDeepKeys=function(e,t,n){new ot(e,n,bn.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)},bn.doesNotHaveAllDeepKeys=function(e,t,n){new ot(e,n,bn.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)},bn.throws=function(e,t,n,o){return("string"==typeof t||t instanceof RegExp)&&(n=t,t=null),E(new ot(e,o,bn.throws,!0).to.throw(t,n),"object")},bn.doesNotThrow=function(e,t,n,o){("string"==typeof t||t instanceof RegExp)&&(n=t,t=null),new ot(e,o,bn.doesNotThrow,!0).to.not.throw(t,n)},bn.operator=function(e,t,n,o){let s;switch(t){case"==":s=e==n;break;case"===":s=e===n;break;case">":s=e>n;break;case">=":s=e>=n;break;case"<":s=e<n;break;case"<=":s=e<=n;break;case"!=":s=e!=n;break;case"!==":s=e!==n;break;default:throw new P((o=o?o+": ":o)+'Invalid operator "'+t+'"',void 0,bn.operator)}let r=new ot(s,o,bn.operator,!0);r.assert(!0===E(r,"object"),"expected "+Ae(e)+" to be "+t+" "+Ae(n),"expected "+Ae(e)+" to not be "+t+" "+Ae(n))},bn.closeTo=function(e,t,n,o){new ot(e,o,bn.closeTo,!0).to.be.closeTo(t,n)},bn.approximately=function(e,t,n,o){new ot(e,o,bn.approximately,!0).to.be.approximately(t,n)},bn.sameMembers=function(e,t,n){new ot(e,n,bn.sameMembers,!0).to.have.same.members(t)},bn.notSameMembers=function(e,t,n){new ot(e,n,bn.notSameMembers,!0).to.not.have.same.members(t)},bn.sameDeepMembers=function(e,t,n){new ot(e,n,bn.sameDeepMembers,!0).to.have.same.deep.members(t)},bn.notSameDeepMembers=function(e,t,n){new ot(e,n,bn.notSameDeepMembers,!0).to.not.have.same.deep.members(t)},bn.sameOrderedMembers=function(e,t,n){new ot(e,n,bn.sameOrderedMembers,!0).to.have.same.ordered.members(t)},bn.notSameOrderedMembers=function(e,t,n){new ot(e,n,bn.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)},bn.sameDeepOrderedMembers=function(e,t,n){new ot(e,n,bn.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)},bn.notSameDeepOrderedMembers=function(e,t,n){new ot(e,n,bn.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)},bn.includeMembers=function(e,t,n){new ot(e,n,bn.includeMembers,!0).to.include.members(t)},bn.notIncludeMembers=function(e,t,n){new ot(e,n,bn.notIncludeMembers,!0).to.not.include.members(t)},bn.includeDeepMembers=function(e,t,n){new ot(e,n,bn.includeDeepMembers,!0).to.include.deep.members(t)},bn.notIncludeDeepMembers=function(e,t,n){new ot(e,n,bn.notIncludeDeepMembers,!0).to.not.include.deep.members(t)},bn.includeOrderedMembers=function(e,t,n){new ot(e,n,bn.includeOrderedMembers,!0).to.include.ordered.members(t)},bn.notIncludeOrderedMembers=function(e,t,n){new ot(e,n,bn.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)},bn.includeDeepOrderedMembers=function(e,t,n){new ot(e,n,bn.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)},bn.notIncludeDeepOrderedMembers=function(e,t,n){new ot(e,n,bn.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)},bn.oneOf=function(e,t,n){new ot(e,n,bn.oneOf,!0).to.be.oneOf(t)},bn.isIterable=function(e,t){if(null==e||!e[Symbol.iterator])throw t=t?`${t} expected ${Ae(e)} to be an iterable`:`expected ${Ae(e)} to be an iterable`,new P(t,void 0,bn.isIterable)},bn.changes=function(e,t,n,o){3===arguments.length&&"function"==typeof t&&(o=n,n=null),new ot(e,o,bn.changes,!0).to.change(t,n)},bn.changesBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new ot(e,s,bn.changesBy,!0).to.change(t,n).by(o)},bn.doesNotChange=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new ot(e,o,bn.doesNotChange,!0).to.not.change(t,n)},bn.changesButNotBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new ot(e,s,bn.changesButNotBy,!0).to.change(t,n).but.not.by(o)},bn.increases=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new ot(e,o,bn.increases,!0).to.increase(t,n)},bn.increasesBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new ot(e,s,bn.increasesBy,!0).to.increase(t,n).by(o)},bn.doesNotIncrease=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new ot(e,o,bn.doesNotIncrease,!0).to.not.increase(t,n)},bn.increasesButNotBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new ot(e,s,bn.increasesButNotBy,!0).to.increase(t,n).but.not.by(o)},bn.decreases=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new ot(e,o,bn.decreases,!0).to.decrease(t,n)},bn.decreasesBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new ot(e,s,bn.decreasesBy,!0).to.decrease(t,n).by(o)},bn.doesNotDecrease=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new ot(e,o,bn.doesNotDecrease,!0).to.not.decrease(t,n)},bn.doesNotDecreaseBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);return new ot(e,s,bn.doesNotDecreaseBy,!0).to.not.decrease(t,n).by(o)},bn.decreasesButNotBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new ot(e,s,bn.decreasesButNotBy,!0).to.decrease(t,n).but.not.by(o)},bn.ifError=function(e){if(e)throw e},bn.isExtensible=function(e,t){new ot(e,t,bn.isExtensible,!0).to.be.extensible},bn.isNotExtensible=function(e,t){new ot(e,t,bn.isNotExtensible,!0).to.not.be.extensible},bn.isSealed=function(e,t){new ot(e,t,bn.isSealed,!0).to.be.sealed},bn.isNotSealed=function(e,t){new ot(e,t,bn.isNotSealed,!0).to.not.be.sealed},bn.isFrozen=function(e,t){new ot(e,t,bn.isFrozen,!0).to.be.frozen},bn.isNotFrozen=function(e,t){new ot(e,t,bn.isNotFrozen,!0).to.not.be.frozen},bn.isEmpty=function(e,t){new ot(e,t,bn.isEmpty,!0).to.be.empty},bn.isNotEmpty=function(e,t){new ot(e,t,bn.isNotEmpty,!0).to.not.be.empty},bn.containsSubset=function(e,t,n){new ot(e,n).to.containSubset(t)},bn.doesNotContainSubset=function(e,t,n){new ot(e,n).to.not.containSubset(t)};for(const[e,t]of[["isOk","ok"],["isNotOk","notOk"],["throws","throw"],["throws","Throw"],["isExtensible","extensible"],["isNotExtensible","notExtensible"],["isSealed","sealed"],["isNotSealed","notSealed"],["isFrozen","frozen"],["isNotFrozen","notFrozen"],["isEmpty","empty"],["isNotEmpty","notEmpty"],["isCallable","isFunction"],["isNotCallable","isNotFunction"],["containsSubset","containSubset"]])bn[t]=bn[e];var mn,yn,wn,xn,vn,On=[];p(function e(t){const n={use:e,AssertionError:P,util:g,config:Ne,expect:hn,assert:bn,Assertion:ot,...dn};return~On.indexOf(t)||(t(n,g),On.push(t)),n},"use"),function(e){e[e.featured=0]="featured",e[e.simpleCarousel=1]="simpleCarousel",e[e.prominentCarousel=2]="prominentCarousel",e[e.chapterUpdates=3]="chapterUpdates",e[e.genres=4]="genres"}(mn||(mn={})),Object.freeze({items:[],metadata:void 0}),function(e){e.singleRowNormal="singleRowNormal",e.singleRowLarge="singleRowLarge",e.doubleRow="doubleRow",e.featured="featured"}(yn||(yn={})),function(e){e[e.MANGA_CHAPTERS=1]="MANGA_CHAPTERS",e[e.MANGA_TRACKING=2]="MANGA_TRACKING",e[e.HOMEPAGE_SECTIONS=4]="HOMEPAGE_SECTIONS",e[e.COLLECTION_MANAGEMENT=8]="COLLECTION_MANAGEMENT",e[e.CLOUDFLARE_BYPASS_REQUIRED=16]="CLOUDFLARE_BYPASS_REQUIRED",e[e.SETTINGS_UI=32]="SETTINGS_UI"}(wn||(wn={})),function(e){e.EVERYONE="EVERYONE",e.MATURE="MATURE",e.ADULT="ADULT"}(xn||(xn={})),function(e){e.BLUE="default",e.GREEN="success",e.GREY="info",e.YELLOW="warning",e.RED="danger"}(vn||(vn={}));const Sn={};function En(e){let t=e.url;e.param&&(t+=e.param);const n={};for(const t of e.cookies??[])n[t.name]=t.value;return{url:t,method:e.method,body:e.data,headers:e.headers,cookies:n}}return Sn.createSourceStateManager=function(){return{keychain:{async store(e,t){Application.setSecureState(t,e)},async retrieve(e){return Application.getSecureState(e)}},async store(e,t){Application.setState(t,e)},async retrieve(e){return Application.getState(e)}}},Sn.createRequestManager=function(e){const n=new class extends t{legacyInterceptor;constructor(e){super("main"),this.legacyInterceptor=e}async interceptRequest(e){if(!this.legacyInterceptor)return e;const t=function(e){return{url:e.url,method:e.method,headers:e.headers??{},cookies:Object.keys(e.cookies??{}).map(t=>({name:t,value:e.cookies[t],domain:""})),data:e.body}}(e);return En(await this.legacyInterceptor.interceptRequest(t))}async interceptResponse(e,t,n){return this.legacyInterceptor,n}}(e.interceptor),o=new r("rateLimit",{numberOfRequests:e.requestsPerSecond??2,bufferInterval:1,ignoreImages:!0}),s=new u({storage:"memory"});return n.registerInterceptor(),o.registerInterceptor(),s.registerInterceptor(),{__backing_interceptor:n,__backing_rateLimit:o,__backing_cookieStore:s,interceptor:e.interceptor,cookieStore:{getAllCookies(){return s.cookies},addCookie(e){s.setCookie(e)},removeCookie(e){s.deleteCookie(e)}},async getDefaultUserAgent(){return Application.getDefaultUserAgent()},requestsPerSecond:e.requestsPerSecond??2,requestTimeout:e.requestTimeout??3e4,async schedule(e){const t=En(e);console.log("[COMPAT] SCHEDULING REQUEST TO "+t.url);const[n,o]=await Application.scheduleRequest(t);return{request:e,headers:n.headers,status:n.status,data:Application.arrayBufferToUTF8String(o),get rawData(){return new Uint8Array(o)}}}}},globalThis.App=new Proxy(Sn,{get(e,t){if(e[t])return e[t];if("string"==typeof t&&t.startsWith("create")){if(t.startsWith("createDUI")){const e=t.slice(6);return t=>Object.defineProperty(t,"type",{enumerable:!0,value:e})}return e=>e}}}),xn.MATURE,e.default}()});